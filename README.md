# Игра FLAPPYBIRD, суть игры - контролировать полёт птицы между рядами препятствий с помощь нажатия на кнопку.
Игра работает используя микрокнтроллер STM32F411 и светодиодную матрицу P10(32х16). Проект уже настроен и создан, необходимо только проделать шаги ниже.
Для запуска необходимо перенести две папки .metadata и lab5 в любую новую папку, например назовём её PROJECT.
В папке PROJECT переходим в папку lab5, для игры необходимо два основынх файла .cproject (Файл "CPROJECT") и lab5.ioc (STM32CubeMX).
Открыв файл lab5.ioc (STM32CubeMX) можно ознакомиться с настройками SPI1, TIM1 и распиновкой проекта.
Открыв файл .cproject (Файл "CPROJECT"), необходимо указать в WORKSPACE путь к папке PROJECT, в которой лежат наши две папки .metadata и lab5. После нажать Launch и откроется сам проект, для запуска необходимо нажать Play(Зелёная треугольная кнопка вверху).
Для подключения матрицы и микроконтроллера необходимо ознакомиться с распиновкой в lab5.ioc (STM32CubeMX) и документацией на матрицу P10.
Ссылка на видео с игрой: https://disk.yandex.ru/i/mq95ybw6XNFtxA

# Изучение SPI
SPI (Serial Peripheral Interface) - последовательный синхронный стандарт передачи данных в режиме полного дуплекса, предназначенный для обеспечения простого и недорогого высокоскоростного сопряжения микроконтроллеров и периферии

Любая отладочная плата серии STM32 обладает возможностью реализаци подобного способа передачи данных.

Для осуществленя подключения необходимо использовать четыре провода для передачи данных. С их наименвоанием возникает множество вопросов, однако, есть свобданя таблица с осноными вариациями наименваония каналов, она представлена ниже.
![image](https://github.com/GreyRaccoon159/Flappy_Bird/assets/152299663/3b039fbb-b2ba-4d67-b678-f7371cfc2476)
Однако, в большинстве схем выделяют следующие наименование пинов:

MOSI — выход ведущего, вход ведомого (англ. Master Out Slave In). Служит для передачи данных от ведущего устройства ведомому.

MISO — вход ведущего, выход ведомого (англ. Master In Slave Out). Служит для передачи данных от ведомого устройства ведущему.

SCLK или SCK— последовательный тактовый сигнал (англ. Serial Clock). Служит для передачи тактового сигнала для ведомых устройств.

CS или SS — выбор микросхемы, выбор ведомого (англ. Chip Select, Slave Select).

О процессе передачи данных

Сам же процесс передачи осуществляется последовательно, с формированием пакетов объёмом 1 байт ( 8 бит). Однако, бывают случаи, когда его объём уменьшается до 4 бит.

Общий принцип передачи данных изображён на рисунке ниже.

![image](https://github.com/GreyRaccoon159/Flappy_Bird/assets/152299663/4f045421-ac15-493a-8e0a-42049a094279)

Подлежащие передаче данные ведущее и ведомое устройства помещают в сдвиговые регистры. После этого ведущее устройство начинает генерировать импульсы синхронизации на линии SCLK, что приводит к взаимному обмену данными. Передача данных осуществляется бит за битом от ведущего по линии MOSI и от ведомого по линии MISO. Передача осуществляется, как правило, начиная со старших битов, но некоторые производители допускают изменение порядка передачи битов программными методами. После передачи каждого пакета данных ведущее устройство, в целях синхронизации ведомого устройства, может перевести линию SS в высокое состояние.

Приимущества метода передачи данных

Средняя скорость передачи данных
Возможность произвольного выбора длины пакета
Простая аппаратная реализация
Использованием лишь четырёх пинов
Максимальная тактовая частота ограничена лишь производительностью устройств
Недостатки метода передачи данных

Ведомое устройство не контралирует поток данных
Нет официальных стандартов (устрйоства не имеют сертефикацию)
Отсутвие "горячего" подключения устройств
Нет обратной связи от ведомого устройства (возможна передача данных в пустоту или с серьёзным искажением)
